<div class="container">
  <div class="row">
    <div class="col-lg-12">

      <div ng-controller="carsController" ng-cloak>

        <h1><%= t "activerecord.models.car" %></h1>
        <table class="table table-striped table-hover ">
          <thead>
            <tr>
              <th><%= I18n.t "activerecord.attributes.car.id" %></th>
              <th><%= I18n.t "activerecord.attributes.car.plate" %></th>
              <th><%= I18n.t "activerecord.attributes.car.model" %></th>
              <th><%= I18n.t "activerecord.models.buyer" %></th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="car in cars">
              <td>{{ car.id }}</td>
              <td>{{ car.plate }}</td>
              <td>{{ car.model }}</td>
              <td>{{ car.buyer.name }}</td>
              <td>
                <button ng-click="editCar(car)" type="button" class="btn btn-default btn-sm" aria-label="Right Align">
                  <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                  <span class="sr-only">Edit</span>
                </button>
                <button type="button" class="btn btn-default btn-sm" aria-label="Right Align">
                  <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                  <span class="sr-only">Delete</span>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<%= content_for :javascript do %>
  <script type="text/javascript">
    angular.module("services.carService")
      .value("carsJson", <%= @cars.to_json.html_safe %>)
  </script>
<% end -%>
